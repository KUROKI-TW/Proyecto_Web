{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2>Editar Post</h2>
    <form method="POST" enctype="multipart/form-data" onsubmit="disableBtn()">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" id="save-btn" class="btn btn-success">Guardar cambios</button>
        <a href="{% url 'detalle_post_url' post.id %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>

<script>
function disableBtn() {
    const btn = document.getElementById('save-btn');
    btn.disabled = true;
    btn.innerText = 'Guardando...';
}
</script>
{% endblock %}