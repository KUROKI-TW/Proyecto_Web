{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2>Crear Nuevo Post</h2>
    
    {% if messages %}
        <div class="alert alert-info">
            {% for message in messages %}
                <p>{{ message }}</p>
            {% endfor %}
        </div>
    {% endif %}
    
    <form method="POST" enctype="multipart/form-data" onsubmit="disableBtn()">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" id="save-btn" class="btn btn-primary">Guardar Post</button>
        <a href="{% url 'Blog' %}" class="btn btn-secondary">Cancelar</a>
    </form>
</div>

<script>
function disableBtn() {
    const btn = document.getElementById('save-btn');
    btn.disabled = true;
    btn.innerText = 'Guardando...';
}
</script>
{% endblock %}